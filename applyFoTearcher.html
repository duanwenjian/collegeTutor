<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--设置网页到期时间-->
    <!--<meta http-equiv="expires" content="Fri,12Jan201718:18:18GMT">
    &lt;!&ndash;禁止缓存&ndash;&gt;
    <meta http-equiv="Pragma" content="no-cache">
    &lt;!&ndash;网页过去清除cookie&ndash;&gt;
    <meta http-equiv="Set-Cookie" content="cookie value=xxx;expires=Friday,12-Jan-201718:18:18GMT；path=/">
    &lt;!&ndash;防止别人调用&ndash;&gt;
    <meta http-equiv="Window-target" content="_top">-->
    <!--显示语言-->
    <meta http-equiv="Content-Language" content="zh-cn"/>
    <!--关键字-->
    <meta name="keywords" content="大学生家教,家教,大学生,college tutor,college,tutor">
    <!--告诉搜索引擎网站主要内容-->
    <meta name="description" content="《大学生家教》网是一个专注于大学生家教的平台，帮助家长更好地找家教">
    <!--告诉机器人索引-->
    <meta name="robots" content="all">
    <!--作者信息-->
    <meta name="author" content="阿段,www.collegetutor@126.com">
    <!--信息参数-->
    <meta name="generator" content="html,css,javaScript,php,mysql"/>
    <!--版权信息-->
    <meta name="copyright" content="大学生家教网版权所有">
    <!--标签logo-->
    <link rel="icon" href="icon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="bootstrap-less/bootstrap.css"/>
    <link rel="stylesheet" href="css/applyfotearcher.css"/>
    <link rel="stylesheet" href="css/default/font.css"/>
    <link rel="stylesheet" href="css/date/pikaday.css"/>
    <!--<link rel="stylesheet" href="other/sweetalert2.css"/>-->
    <link rel="stylesheet" href="css/imgFile/jquery.filer.css"/>
    <title>申请成为教师 | collegeTutor</title>
    <!---->
</head>
<body>
<div class="container-fluid">
    <div id="bg-img" class="bg-img-3"></div>
    <div class="applyfotearcher clearfix">
        <div class="main">
            <!--<div class="main-top text-center">
                <div class="user-img">
                    <img src="img/home/teacher/1.jpg" class="J-user-Headportrait" alt="veneno"/>
                </div>
                <div class="user-info">
                    <h4>我是好孩子</h4>
                    <h5>dwjwenjian228@qq.com</h5>
                </div>
            </div>-->
            <div class="main-content">
                <h3 class="text-center">申请流程</h3>
                <ul class="clearfix">
                    <li class="success">
                        <div class="pic"><img src="img/applyfoTearcher/TB1cZSYOFXXXXaMaXXXXXXXXXXX-30-35.svg" class="npic"><img src="img/applyfoTearcher/TB13q90OFXXXXa5XVXXXXXXXXXX-30-35.svg" class="hpic"></div>
                        <div class="name">填写信息</div>
                        <div class="txt"></div>
                        <div class="num">1</div>
                    </li>

                    <li class="success">
                        <div class="pic"><img src="img/applyfoTearcher/TB1M3iQOFXXXXb9aXXXXXXXXXXX-35-35.svg" class="npic"><img src="img/applyfoTearcher/TB1jbG1OFXXXXcaXFXXXXXXXXXX-35-35.svg" class="hpic"></div>
                        <div class="name">上传照片</div>
                        <div class="txt"></div>
                        <div class="num">2</div>
                    </li>

                    <li>
                        <div class="pic"><img src="img/applyfoTearcher/TB1WLOVOFXXXXbaXVXXXXXXXXXX-35-36.svg" class="npic"><img src="img/applyfoTearcher/TB1F8m7OFXXXXcdXFXXXXXXXXXX-35-36.svg" class="hpic"></div>
                        <div class="name">管理审核</div>
                        <div class="txt"></div>
                        <div class="num">3</div>
                    </li>

                    <li>
                        <div class="pic"><img src="img/applyfoTearcher/TB1ZbWROFXXXXa0aXXXXXXXXXXX-35-35.svg" class="npic"><img src="img/applyfoTearcher/TB1pw6sOFXXXXaqXXXXXXXXXXXX-35-35.svg" class="hpic"></div>
                        <div class="name">管理复核</div>
                        <div class="txt"></div>
                        <div class="num">4</div>
                    </li>

                    <li >
                        <div class="pic"><img src="img/applyfoTearcher/TB1OsePOFXXXXcxaXXXXXXXXXXX-35-35.svg" class="npic"><img src="img/applyfoTearcher/TB1rX_lOFXXXXc1XXXXXXXXXXXX-35-35.svg" class="hpic"></div>
                        <div class="name">申请成功</div>
                        <div class="txt"></div>
                        <div class="num">5</div>
                    </li>
                </ul>
                <div class="line">
                    <span class="txt1">提交审核</span>
                    <span class="txt1">提交复核</span>
                    <span class="txt1">两个工作日</span>
                </div>
                <div class="line-active">
                </div>
                <!--<div class="btn3">
                    <a href="#">开始申请</a>
                </div>-->
                <div class="flow">
                    <div class="flow-1">
                        <div class="user-add-info">
                            <form class="form-horizontal text-center">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="major" class="col-sm-2 control-label">专业</label>
                                                <div class="col-sm-8">
                                                    <input type="email" class="form-control" id="major" placeholder="请输入专业">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="Grade" class="col-sm-4 control-label">等级</label>
                                                <div class="col-sm-8">
                                                    <input type="email" class="form-control" id="Grade" placeholder="1" disabled>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="Subject" class="col-sm-2 control-label">科目</label>
                                                <div class="col-sm-8">
                                                    <select id="Subject" class="form-control">
                                                        <option>语文</option>
                                                        <option>数学</option>
                                                        <option>生物</option>
                                                        <option>化学</option>
                                                        <option>钢琴</option>
                                                        <option value="">其他</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="birth" class="col-sm-4 control-label">出生日期</label>
                                                <div class="col-sm-8">
                                                    <input type="email" class="form-control" id="birth" placeholder="请选择出生日期">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="Price" class="col-sm-2 control-label">价格</label>
                                                <div class="col-sm-8">
                                                    <input type="email" class="form-control" id="Price" placeholder="价格">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <div class="form-group">
                                                <label  class="col-sm-4 control-label">性别</label>
                                                <div class="col-sm-8 text-left">
                                                    <input type="radio" class="hide" name="inlineRadioOptions" id="sex-m" value="option1">
                                                    <label class="radio-inline" for="sex-m">
                                                        <span></span>男
                                                    </label>
                                                    <input type="radio" class="hide" name="inlineRadioOptions" id="sex-w" value="option2">
                                                    <label class="radio-inline" for="sex-w">
                                                        <span></span>女
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="margin-left: -3px">
                                    <div class="col-sm-12">
                                        <div class="row">
                                            <div class="form-group">
                                                <label for="Remarks" class="col-sm-1 control-label">备注</label>
                                                <div class="col-sm-11">
                                                    <textarea id="Remarks" class="form-control" rows="3" placeholder="备注"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="flow-2 flow-active">
                        <div class="user-add-img">
                            <input type="hidden" id="userId" value="1"/>
                            <input type="file" data-userID="1" style="position: absolute; left: -9999px; top: -9999px; z-index: -9999;" name="file" class="file" id="file" size="28"  onchange="previewFile()"/>
                            <!--<input type="file" multiple="multiple" name="files[]" id="input2" >-->
                            <div class="jFiler-input-dragDrop">
                                <div class="jFiler-input-inner" onclick="file.click()">
                                    <div class="jFiler-input-icon">
                                        <i class="icon-jfi-folder"></i>
                                    </div>
                                    <div class="jFiler-input-text">
                                        <h3>点击选择图片</h3>
                                        <span style="display:inline-block; margin: 15px 0">或者</span>
                                    </div>
                                    <a class="jFiler-input-choose-btn blue-light">选择图片</a>
                                </div>
                            </div>
                            <div class="user-add-img-show">
                                <ul id="j-user-img">
                                    <!--<li><img src="/userimages/" alt=""/></li>-->
                                    <!--<li></li>-->
                                    <!--<li></li>-->
                                </ul>
                            </div>
                        </div>
                        <!--<div class="btn3">
                            <a href="#">开始申请</a>
                        </div>-->
                    </div>
                </div>
            </div>
            <div class="main-footer">
                <nav aria-label="">
                    <ul class="pager">
                        <li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> 上一步</a></li>
                        <li class="next"><a href="#">下一步 <span aria-hidden="true">&rarr;</span></a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
<div class="swal2-container swal2-fade" id="register-return-ok">
    <div class="swal2-modal swal2-show">
    </div>
</div>
<script src="js/jquery-1.11.3.js"></script>
<script src="js/md5-min.js"></script>
<script src="js/register.js"></script>
<script src="js/date/pikaday.min.js"></script>

<script src="js/bootstrap/bootstrap.min.js"></script>
<script src="js/imgFile/jquery.filer.min.js"></script>


<script type="text/javascript">
    var picker = new Pikaday(
    {
        field: document.getElementById('birth'),
        firstDay: 1,
        minDate: new Date('2010-01-01'),
        maxDate: new Date('2020-12-31'),
        yearRange: [2000,2020]
    });

    var h=$('#bg-img')[0].scrollHeight-30;
    $('.applyfotearcher').css('height',h);
    /*$(document).ready(function() {
        $('#input1').filer();

        $('.file_input').filer({
            showThumbs: true,
            templates: {
                box: '<ul class="jFiler-item-list"></ul>',
                item: '<li class="jFiler-item">\
                            <div class="jFiler-item-container">\
                                <div class="jFiler-item-inner">\
                                    <div class="jFiler-item-thumb">\
                                        <div class="jFiler-item-status"></div>\
                                        <div class="jFiler-item-info">\
                                            <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                        </div>\
                                        {{fi-image}}\
                                    </div>\
                                    <div class="jFiler-item-assets jFiler-row">\
                                        <ul class="list-inline pull-left">\
                                            <li><span class="jFiler-item-others">{{fi-icon}} {{fi-size2}}</span></li>\
                                        </ul>\
                                        <ul class="list-inline pull-right">\
                                            <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                        </ul>\
                                    </div>\
                                </div>\
                            </div>\
                        </li>',
                itemAppend: '<li class="jFiler-item">\
                            <div class="jFiler-item-container">\
                                <div class="jFiler-item-inner">\
                                    <div class="jFiler-item-thumb">\
                                        <div class="jFiler-item-status"></div>\
                                        <div class="jFiler-item-info">\
                                            <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                        </div>\
                                        {{fi-image}}\
                                    </div>\
                                    <div class="jFiler-item-assets jFiler-row">\
                                        <ul class="list-inline pull-left">\
                                            <span class="jFiler-item-others">{{fi-icon}} {{fi-size2}}</span>\
                                        </ul>\
                                        <ul class="list-inline pull-right">\
                                            <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                        </ul>\
                                    </div>\
                                </div>\
                            </div>\
                        </li>',
                progressBar: '<div class="bar"></div>',
                itemAppendToEnd: true,
                removeConfirmation: true,
                _selectors: {
                    list: '.jFiler-item-list',
                    item: '.jFiler-item',
                    progressBar: '.bar',
                    remove: '.jFiler-item-trash-action'
                }
            },
            addMore: true,
            files: [{
                name: "appended_file.jpg",
                size: 5453,
                type: "image/jpg",
                file: "http://dummyimage.com/158x113/f9f9f9/191a1a.jpg"
            },{
                name: "appended_file_2.png",
                size: 9503,
                type: "image/png",
                file: "http://dummyimage.com/158x113/f9f9f9/191a1a.png"
            }]
        });

        $('#input2').filer({
            limit: null,
            maxSize: null,
            extensions: null,
            changeInput: `<div class="jFiler-input-dragDrop">
                            <div class="jFiler-input-inner">
                            <div class="jFiler-input-icon">
                            <i class="icon-jfi-folder"></i>
                            </div>
                            <div class="jFiler-input-text">
                            <h3>点击选择图片</h3>
                            <span style="display:inline-block; margin: 15px 0">或者</span>
                            </div>
                            <a class="jFiler-input-choose-btn blue-light">选择图片</a>
                            </div>
                            </div>`,
            showThumbs: true,
            appendTo: null,
            theme: "dragdropbox",
            templates: {
                box: '<ul class="jFiler-item-list"></ul>',
                item: '<li class="jFiler-item">\
                            <div class="jFiler-item-container">\
                                <div class="jFiler-item-inner">\
                                    <div class="jFiler-item-thumb">\
                                        <div class="jFiler-item-status"></div>\
                                        <div class="jFiler-item-info">\
                                            <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                        </div>\
                                        {{fi-image}}\
                                    </div>\
                                    <div class="jFiler-item-assets jFiler-row">\
                                        <ul class="list-inline pull-left">\
                                            <li>{{fi-progressBar}}</li>\
                                        </ul>\
                                        <ul class="list-inline pull-right">\
                                            <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                        </ul>\
                                    </div>\
                                </div>\
                            </div>\
                        </li>',
                itemAppend: '<li class="jFiler-item">\
                            <div class="jFiler-item-container">\
                                <div class="jFiler-item-inner">\
                                    <div class="jFiler-item-thumb">\
                                        <div class="jFiler-item-status"></div>\
                                        <div class="jFiler-item-info">\
                                            <span class="jFiler-item-title"><b title="{{fi-name}}">{{fi-name | limitTo: 25}}</b></span>\
                                        </div>\
                                        {{fi-image}}\
                                    </div>\
                                    <div class="jFiler-item-assets jFiler-row">\
                                        <ul class="list-inline pull-left">\
                                            <span class="jFiler-item-others">{{fi-icon}} {{fi-size2}}</span>\
                                        </ul>\
                                        <ul class="list-inline pull-right">\
                                            <li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li>\
                                        </ul>\
                                    </div>\
                                </div>\
                            </div>\
                        </li>',
                progressBar: '<div class="bar"></div>',
                itemAppendToEnd: false,
                removeConfirmation: false,
                _selectors: {
                    list: '.jFiler-item-list',
                    item: '.jFiler-item',
                    progressBar: '.bar',
                    remove: '.jFiler-item-trash-action'
                }
            },
            uploadFile: {
                url: "./php/imgFile/upload.php",
                data: {},
                type: 'POST',
                enctype: 'multipart/form-data',
                beforeSend: function(){},
                success: function(data, el){
                    var parent = el.find(".jFiler-jProgressBar").parent();
                    el.find(".jFiler-jProgressBar").fadeOut("slow", function(){
                        $("<div class=\"jFiler-item-others text-success\"><i class=\"icon-jfi-check-circle\"></i> Success</div>").hide().appendTo(parent).fadeIn("slow");
                    });
                },
                error: function(el){
                    var parent = el.find(".jFiler-jProgressBar").parent();
                    el.find(".jFiler-jProgressBar").fadeOut("slow", function(){
                        $("<div class=\"jFiler-item-others text-error\"><i class=\"icon-jfi-minus-circle\"></i> Error</div>").hide().appendTo(parent).fadeIn("slow");
                    });
                },
                statusCode: {},
                onProgress: function(){}
            },
            dragDrop: {
                dragEnter: function(){},
                dragLeave: function(){},
                drop: function(){}
            },
            addMore: true,
            clipBoardPaste: true,
            excludeName: null,
            beforeShow: function(){return true},
            onSelect: function(){},
            afterShow: function(){},
            onRemove: function(){},
            onEmpty: function(){},
            captions: {
                button: "Choose Files",
                feedback: "Choose files To Upload",
                feedback2: "files were chosen",
                drop: "Drop file here to Upload",
                removeConfirmation: "是否删除上传的图片?",
                errors: {
                    filesLimit: "Only {{fi-limit}} files are allowed to be uploaded.",
                    filesType: "Only Images are allowed to be uploaded.",
                    filesSize: "{{fi-name}} is too large! Please upload file up to {{fi-maxSize}} MB.",
                    filesSizeAll: "Files you've choosed are too large! Please upload files up to {{fi-maxSize}} MB."
                }
            }
        });
    });*/
</script>



<script type="text/javascript">

    var xhr;
    function createXMLHttpRequest()
    {
        if(window.ActiveXObject)
        {
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }
        else if(window.XMLHttpRequest)
        {
            xhr = new XMLHttpRequest();
        }
    }

    function UpladFile()
    {
        var fileObj = document.getElementById("file").files[0];
        var userid=$('#userId').val();
        var FileController = 'php/imgFile.php';//上传头像路径、
        form = new FormData();
        form.append("myfile", fileObj);
        form.append('userID',1);//用户id
//        form.append('username','dwj');
        createXMLHttpRequest();
        xhr.onreadystatechange = handleStateChange;
        xhr.open("post", FileController, true);
        xhr.send(form);
    }

    function postData(obj){ // 转成post需要的字符串.
        var str = "";
        for(var prop in obj){
            str += prop + "=" + obj[prop] + "&";
        }
        return str;
    }

    function previewFile() {
        var file  = document.querySelector('input[type=file]').files[0];
        var reader = new FileReader();
        reader.onloadend = function () {
            $('#j-user-img').append(`<li><img src="${reader.result}" alt=""/><span></span></li>`);
            UpladFile();
        };
        if (file) {
            reader.readAsDataURL(file);
        } else {
//            preview.src = "";
        }
    }

    function handleStateChange()
    {
        if(onprogress && xhr.upload) {
            xhr.upload.addEventListener("progress" , onprogress, false);
            return xhr;
        }
        if(xhr.readyState == 4)
        {
            if (xhr.status == 200 || xhr.status == 0)
            {
                var result = xhr.responseText;
                var json = eval("(" + result + ")");
//                alert('图片链接:\n'+json.file);
//                $('#j-user-img').append(`<li><img src="dashboard/collegetutor${json.file}" alt=""/></li>`);
                var obj={"path":json.file};
//                var FileImage='php_demo/imageFile2.php?'+postData(obj);//保存路径
                //发起第二个请求保存头像
//                createXMLHttpRequest();
                /*xhr.onreadystatechange=function(){
                    if(xhr.readyState == 4)
                    {
                        if (xhr.status == 200 || xhr.status == 0)
                        {
                            result = xhr.responseText;
                            result=result.substr(1);
                            document.write("<img src='"+result+"'>");
                        }
                    }
                };*/
//                xhr.open("post",FileImage,true);
//                xhr.send();
            }
        }
    }

    function onprogress(evt){
        var loaded = evt.loaded;     //已经上传大小情况
        var tot = evt.total;      //附件总大小
        var per = Math.floor(100*loaded/tot);  //已经上传的百分比
//        console.dir(per);
        $('#j-user-img>li:last-child>span').css('width',per+'%');
        if(per==100){
            $('#j-user-img>li:last-child').css('borderColor','rgb(39,174,91)');
            $('#j-user-img>li:last-child>span').css('display','none');
        }

    }

</script>
</body>
</html>